* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --color-primary: #6366f1;
    --color-primary-dark: #4f46e5;
    --color-success: #22c55e;
    --color-danger: #ef4444;
    --color-bg: #0f172a;
    --color-surface: #1e293b;
    --color-text: #f8fafc;
    --color-text-muted: #94a3b8;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: radial-gradient(circle at 50% 0%, #1e1b4b, #0f172a);
    background-attachment: fixed;
    color: var(--color-text);
    min-height: 100vh;
}

.app {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

/* Header Layout */
.app-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 2rem;
    background: var(--color-surface);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    position: relative;
    height: 80px;
}

.header-title-section {
    display: none;
}

.app-header h1 {
    font-size: 1.5rem;
    font-weight: 600;
}

.settings-button {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    padding: 8px;
    line-height: 1;
    color: var(--color-text);
    transition: transform 0.2s;

    /* Center settings button on Desktop */
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
}

.settings-button:hover {
    transform: translateX(-50%) rotate(45deg);
}

.header-logo {
    /* Natural flow: Left side */
    height: 48px;
    width: auto;
}

.connection-status {
    padding: 0.5rem 1rem;
    border-radius: 9999px;
    font-size: 0.875rem;
    font-weight: 500;
}

.connection-status.connected {
    background: rgba(34, 197, 94, 0.2);
    color: var(--color-success);
}

.connection-status.disconnected {
    background: rgba(239, 68, 68, 0.2);
    color: var(--color-danger);
}

.app-main {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 2rem;
}

/* ... existing styles ... */

.loading {
    text-align: center;
    color: var(--color-text-muted);
}

/* Mobile layout overrides */
@media (max-width: 767px) {
    .app-header {
        padding: 0.75rem 1rem;
        display: grid;
        grid-template-columns: auto 1fr auto;
        /* Status, Settings(Center), Logo+Title */
        grid-template-areas: "status settings title";
        height: 60px;
        gap: 10px;
    }

    /* 1. Status on LEFT */
    .connection-status {
        grid-area: status;
        font-size: 0.75rem;
        padding: 0.25rem 0.5rem;
        white-space: nowrap;
    }

    /* 2. Settings attached to center but physically between others */
    /* 2. Settings attached to center but physically between others */
    .settings-button {
        grid-area: settings;
        justify-self: center;
        /* Center in the middle column */
        margin: 0;

        /* Reset absolute positioning from Desktop */
        position: static;
        transform: none;
    }

    /* 3. Logo + Title on RIGHT */
    /* We need to group them visually. 
       In App.tsx they are separate: .header-title-section(h1) and .header-logo(img)
       On Mobile, User wants: Logo + Text(RTS/RPS) on right.
       We can move .header-title-section to right area, and put logo inside it?
       Or put .header-logo to grid-area title as well.
    */

    .header-logo {
        position: static;
        /* Remove absolute centering */
        transform: none;
        height: 32px;
        grid-area: title;
        justify-self: end;
        order: 2;
        /* Ensure it is to the right of text if in same cell? No, they are separate elements */
    }

    .header-title-section {
        grid-area: title;
        justify-self: end;
        display: flex;
        /* Show title on mobile */
        align-items: center;
        gap: 8px;
        order: 1;
    }

    /* Trick: To put both in 'title' area, they will overlap unless we flex them.
       Since they are siblings in Grid container, we can't easily group them into one grid cell without wrapper.
       BUT, we can set grid columns differently.
    */

    .app-header {
        grid-template-columns: auto 1fr auto auto;
        /* Status, Settings, Title, Logo */
        grid-template-areas: "status settings title logo";
    }

    .header-title-section {
        grid-area: title;
        margin-right: 5px;
    }

    .header-title-section h1 {
        font-size: 1rem;
    }

    .header-logo {
        grid-area: logo;
        height: 28px;
    }

    .app-main {
        padding: 10px;
        align-items: flex-start;
    }
}